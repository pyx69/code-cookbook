<!DOCTYPE html>
<html lang="en" id="page"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#"><meta charset="utf-8"/><meta name="viewport" content="width=device-width"/><title>Passing different types to a function parameter - Other  - Haxe Code Cookbook</title><base href="./../.."/>
<link rel="stylesheet" type="text/css" href="https://haxe.org/css/bootstrap.min.css"/><link rel="stylesheet" type="text/css" href="css/styles.min.css"/><link rel="stylesheet" type="text/css" href="css/haxe-nav.min.css"/><link rel="icon" href="https://haxe.org/favicon.ico"/><link rel="canonical" href="http://code.haxe.org/category/other/passing-different-types-to-a-function-parameter.html"/><link href="http://code.haxe.org/rss.xml" rel="alternate" type="application/atom+xml" title="RSS Feed Haxe Code Cookbook"/><meta name="description" content="Sometimes you find yourself in the need of passing different types to the same parameter of a function. While there isn't a built-in way of doing this in Haxe, thanks to its flexible type system, we can solve this problem. We will explore two ways to achieve this."/>
<meta name="twitter:creator" content="@haxe_org"/>
<meta property="og:title" content="Passing different types to a function parameter - Other  - Haxe Code Cookbook"/><meta property="og:description" content="Sometimes you find yourself in the need of passing different types to the same parameter of a function. While there isn't a built-in way of doing this in Haxe, thanks to its flexible type system, we can solve this problem. We will explore two ways to achieve this."/><meta property="og:type" content="article"/><meta property="og:url" content="http://code.haxe.org/category/other/passing-different-types-to-a-function-parameter.html"/><meta property="og:image" content="http://code.haxe.org/img/share.png"/><meta property="article:publisher" content="haxe.org"/><meta property="article:published_time" content="2016-10-14 00:00:00"/><meta property="article:modified_time" content="2016-11-01 00:00:00"/><meta property="article:section" content="technology"/><meta property="article:tag" content="enum,abstract-type,pattern-matching,type-parameter,type-parameter-constraint"/><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic"/><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400"/></head><body><nav class="section nav dark"><div class="navbar navbar-fixed-top navbar-inverse"><div class="navbar-inner"><button class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse" type="button"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="brand haxe-logo" href="https://haxe.org/"><img alt="Haxe" height="21" onerror="this.src='https://haxe.org/img/haxe-logo-horizontal-on-dark.png'" src="https://haxe.org/img/haxe-logo-horizontal-on-dark.svg" width="107"/></a><a class="brand sub ide" href="./">CODE</a><div class="nav-collapse collapse"><ul class="nav">
<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-book"></i> Browse <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="category/beginner/">Beginner <small class="category-count">(13)</small></a></li><li><a href="category/abstract-types/">Abstract types <small class="category-count">(5)</small></a></li><li><a href="category/compilation/">Compilation <small class="category-count">(1)</small></a></li><li><a href="category/data-structures/">Data structures <small class="category-count">(4)</small></a></li><li><a href="category/design-patterns/">Design patterns <small class="category-count">(3)</small></a></li><li><a href="category/functional-programming/">Functional Programming <small class="category-count">(1)</small></a></li><li><a href="category/macros/">Macros <small class="category-count">(16)</small></a></li><li><a href="category/principles/">Principles <small class="category-count">(3)</small></a></li><li class="active"><a href="category/other/">Other <small class="category-count">(5)</small></a></li></ul></li><li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-tags"></i> Tags <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="tag/macro-function.html" rel="tag"><i class="fa fa-tag"></i> macro function <small class="category-count">(9)</small></a></li><li><a href="tag/building-fields.html" rel="tag"><i class="fa fa-tag"></i> building fields <small class="category-count">(7)</small></a></li><li><a href="tag/build-macro.html" rel="tag"><i class="fa fa-tag"></i> build macro <small class="category-count">(6)</small></a></li><li><a href="tag/abstract-type.html" rel="tag"><i class="fa fa-tag"></i> abstract type <small class="category-count">(6)</small></a></li><li><a href="tag/enum.html" rel="tag"><i class="fa fa-tag"></i> enum <small class="category-count">(5)</small></a></li><li><a href="tag/data-structures.html" rel="tag"><i class="fa fa-tag"></i> data structures <small class="category-count">(4)</small></a></li><li><a href="tag/iterator.html" rel="tag"><i class="fa fa-tag"></i> iterator <small class="category-count">(3)</small></a></li><li><a href="tag/validation.html" rel="tag"><i class="fa fa-tag"></i> validation <small class="category-count">(3)</small></a></li><li><a href="tag/collections.html" rel="tag"><i class="fa fa-tag"></i> collections <small class="category-count">(3)</small></a></li><li><a href="tag/dead-code-elimination.html" rel="tag"><i class="fa fa-tag"></i> dead code elimination <small class="category-count">(3)</small></a></li><li><a href="tag/javascript.html" rel="tag"><i class="fa fa-tag"></i> javascript <small class="category-count">(3)</small></a></li><li><a href="tag/pattern-matching.html" rel="tag"><i class="fa fa-tag"></i> pattern matching <small class="category-count">(3)</small></a></li><li><a href="tag/class.html" rel="tag"><i class="fa fa-tag"></i> class <small class="category-count">(3)</small></a></li><li><a href="tag/array.html" rel="tag"><i class="fa fa-tag"></i> array <small class="category-count">(3)</small></a></li><li><a href="tag/math.html" rel="tag"><i class="fa fa-tag"></i> math <small class="category-count">(2)</small></a></li><li><a href="tag/ereg.html" rel="tag"><i class="fa fa-tag"></i> ereg <small class="category-count">(2)</small></a></li><li><a href="tag/arguments.html" rel="tag"><i class="fa fa-tag"></i> arguments <small class="category-count">(2)</small></a></li><li><a href="tag/conditional-compilation.html" rel="tag"><i class="fa fa-tag"></i> conditional compilation <small class="category-count">(2)</small></a></li><li><a href="tag/libraries.html" rel="tag"><i class="fa fa-tag"></i> libraries <small class="category-count">(2)</small></a></li><li><a href="tag/static-extension.html" rel="tag"><i class="fa fa-tag"></i> static extension <small class="category-count">(2)</small></a></li></ul></li><li class="divider"></li>
<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="https://haxe.org/documentation/">Learn Haxe <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://haxe.org/documentation/" rel="external">Introduction</a></li><li class="divider"></li><li><a href="https://haxe.org/manual/" rel="external">Manual</a></li><li><a href="http://api.haxe.org" rel="external">API Documentation</a></li><li class="divider"></li><li><a href="http://try.haxe.org" rel="external">Try Haxe</a></li><li><a href="https://lib.haxe.org" rel="external">Haxelib</a></li><li class="active"><a href="http://code.haxe.org" rel="external">Code Cookbook</a></li></ul></li><li class=" dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Connect <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://github.com/HaxeFoundation" rel="external"><i class="fa fa-github"></i> Github</a></li><li><a href="https://github.com/HaxeFoundation/haxe/issues" rel="external"><i class="fa fa-github"></i> Bug reports</a></li><li><a href="http://stackoverflow.com/questions/tagged/haxe" rel="external"><i class="fa fa-stack-exchange"></i> Stack Overflow</a></li><li><a href="http://groups.google.com/group/haxelang?hl=en" rel="external"><i class="fa fa-envelope-o"></i> Google Groups</a></li><li><a href="http://webchat.freenode.net/?channels=haxe" rel="external nofollow"><i class="fa fa-comments-o"></i> IRC</a></li><li><a href="https://haxe.org/blog" rel="external"><i class="fa fa-rss"></i> Blog</a></li><li class="divider"></li><li><a href="https://plus.google.com/communities/103302587329918132234" rel="external"><i class="fa fa-google-plus"></i> Google+</a></li><li><a href="https://www.facebook.com/haxe.org/" rel="external"><i class="fa fa-facebook"></i> Facebook</a></li><li><a href="https://twitter.com/search?q=%23haxe" rel="external"><i class="fa fa-twitter"></i> #haxe</a></li><li><a href="https://twitter.com/haxelang" rel="external"><i class="fa fa-twitter"></i> @haxelang</a></li><li><a href="https://twitter.com/haxe_org" rel="external"><i class="fa fa-twitter"></i> @haxe_org</a></li><li class="divider"></li><li><a href="https://haxe.org/foundation/contact.html" rel="external">Contact</a></li></ul></li></ul></div></div></div></nav><div class="main-content"><header class="hero-unit-small"><div class="container"><div class="row"><div id="title">Haxe Code Cookbook</div></div></div></header><main class="container"><section class="row"><nav class="span4 sidebar-toc" id="sidebar"><h3>Table of contents</h3><ul class="unstyled" itemscope="itemscope" itemtype="http://schema.org/BreadcrumbList"><li><a href="category/beginner/">Beginner</a><ul class="unstyled"><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/arrays.html" itemprop="item"><span itemprop="name">Using arrays</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/conditional-compilation.html" itemprop="item"><span itemprop="name">Conditional compilation</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/declare-classes.html" itemprop="item"><span itemprop="name">Declare classes</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/declare-functions.html" itemprop="item"><span itemprop="name">Declare functions</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/enum-adt.html" itemprop="item"><span itemprop="name">Using enum / ADT</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/hello-world.html" itemprop="item"><span itemprop="name">Hello world</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/lists.html" itemprop="item"><span itemprop="name">Using lists</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/maps.html" itemprop="item"><span itemprop="name">Using maps</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/numbers-floats-ints.html" itemprop="item"><span itemprop="name">Using numbers</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/regular-expressions.html" itemprop="item"><span itemprop="name">Using regular expressions</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/string-variable-reflection.html" itemprop="item"><span itemprop="name">Access a field using a string</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/using-filesystem.html" itemprop="item"><span itemprop="name">Using the file system</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/beginner/using-static-extensions.html" itemprop="item"><span itemprop="name">Using static extensions</span></a></li></ul></li><br/><li><a href="category/abstract-types/">Abstract types</a><ul class="unstyled"><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/abstract-types/abstracts-with-type-params.html" itemprop="item"><span itemprop="name">Strict typing for stringly-typed extern code</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/abstract-types/color.html" itemprop="item"><span itemprop="name">Color as abstract type</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/abstract-types/emailaddress.html" itemprop="item"><span itemprop="name">Email address as abstract type</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/abstract-types/rounded-float.html" itemprop="item"><span itemprop="name">Rounded Float as abstract type</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/abstract-types/temperature-units.html" itemprop="item"><span itemprop="name">Temperature units as abstract type</span></a></li></ul></li><br/><li><a href="category/compilation/">Compilation</a><ul class="unstyled"><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/compilation/compiling-libraries-without-main-class.html" itemprop="item"><span itemprop="name">Compiling libraries without main class</span></a></li></ul></li><br/><li><a href="category/data-structures/">Data structures</a><ul class="unstyled"><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/data-structures/grid-iterator.html" itemprop="item"><span itemprop="name">Grid iterator</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/data-structures/reverse-iterator.html" itemprop="item"><span itemprop="name">Reverse iterator</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/data-structures/sort-array.html" itemprop="item"><span itemprop="name">Sorting arrays</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/data-structures/step-iterator.html" itemprop="item"><span itemprop="name">Stepped iterator</span></a></li></ul></li><br/><li><a href="category/design-patterns/">Design patterns</a><ul class="unstyled"><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/design-patterns/factory.html" itemprop="item"><span itemprop="name">Factory</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/design-patterns/lazy-initialization.html" itemprop="item"><span itemprop="name">Lazy initialization</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/design-patterns/singleton.html" itemprop="item"><span itemprop="name">Singleton</span></a></li></ul></li><br/><li><a href="category/functional-programming/">Functional Programming</a><ul class="unstyled"><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/functional-programming/enum-gadt.html" itemprop="item"><span itemprop="name">Enums as GADTs</span></a></li></ul></li><br/><li><a href="category/macros/">Macros</a><ul class="unstyled"><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/add-git-commit-hash-in-build.html" itemprop="item"><span itemprop="name">Add git commit-hash in build</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/add-parameters-as-fields.html" itemprop="item"><span itemprop="name">Add parameters as fields</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/assert-with-values.html" itemprop="item"><span itemprop="name">Assert macro that shows sub-expression values</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/build-arrays.html" itemprop="item"><span itemprop="name">Generating Arrays with values</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/build-map.html" itemprop="item"><span itemprop="name">Add a map</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/build-property-with-inline-getter.html" itemprop="item"><span itemprop="name">Add property with getter</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/build-static-field.html" itemprop="item"><span itemprop="name">Add a static field</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/build-value-objects.html" itemprop="item"><span itemprop="name">Create value-objects</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/combine-objects.html" itemprop="item"><span itemprop="name">Combine two or more structures</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/completion-from-url.html" itemprop="item"><span itemprop="name">Code completion from URL</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/enum-abstract-values.html" itemprop="item"><span itemprop="name">Get all values of an @:enum abstract</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/extract-enum-value.html" itemprop="item"><span itemprop="name">Extract values from known enum instances</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/generate-dispatch-code.html" itemprop="item"><span itemprop="name">Generate dispatch code</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/generating-code-in-a-macro.html" itemprop="item"><span itemprop="name">Generating code in a macro</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/get-compiler-define-value.html" itemprop="item"><span itemprop="name">Working with compiler flags</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/macros/validate-json.html" itemprop="item"><span itemprop="name">Validates a .JSON file compile-time</span></a></li></ul></li><br/><li><a href="category/principles/">Principles</a><ul class="unstyled"><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/principles/everything-is-an-expression.html" itemprop="item"><span itemprop="name">Everything is an expression</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/principles/inheritance.html" itemprop="item"><span itemprop="name">Inheritance</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/principles/null-safety.html" itemprop="item"><span itemprop="name">Null safety</span></a></li></ul></li><br/><br/><li><a href="category/other/" class="active">Other</a><ul class="unstyled"><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/other/adding-static-methods-to-existing-classes.html" itemprop="item"><span itemprop="name">Adding static methods to existing classes</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/other/named-parameters.html" itemprop="item"><span itemprop="name">Named Parameters</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem" class="active"><a href="category/other/passing-different-types-to-a-function-parameter.html" itemprop="item"><span itemprop="name">Passing different types to a function parameter</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/other/using-haxe-classes-in-javascript.html" itemprop="item"><span itemprop="name">Using Haxe classes in JavaScript</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/other/vga-text-renderer.html" itemprop="item"><span itemprop="name">VGA text renderer</span></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="category/other/working-with-cppia/index.html" itemprop="item"><span itemprop="name">Working with cppia</span></a></li></ul></li><br/></ul></nav><article class="span8" itemscope="itemscope" itemtype="http://schema.org/Article"><h1><a href="http://code.haxe.org/category/other/passing-different-types-to-a-function-parameter.html" itemprop="url" class="anchorjs-icons"></a> <span itemprop="name">Passing different types to a function parameter</span></h1><div itemprop="articleBody"><p>Sometimes you find yourself in the need of passing different types to the same parameter of a function. While there isn't a built-in way of doing this in Haxe, thanks to its flexible type system, we can solve this problem. We will explore two ways to achieve this.</p>
<h3>Access fields that are present in all our types</h3>
<p>Let's say, for example, that we want to get the <code>length</code> of an <code>Array&lt;T&gt;</code> or an <code>String</code>:</p>
<pre><code class="prettyprint haxe">function length(o:Array&lt;Int&gt;/*or String*/):Int {
  return o.length;
}</code></pre>
<p>That function won't work for us, it will only work for <code>Arrays</code> so we need to find a way to fix it. <em>The laziest</em> and <strong>more dangerous</strong> method we can use is <a href="http://api.haxe.org/Dynamic.html"><code>Dynamic</code></a>.</p>
<pre><code class="prettyprint haxe">function length(o:Dynamic):Int {
  return o.length;
}</code></pre><iframe src="http://try.haxe.org/embed/1639D" class="try-haxe"><a href="http://try.haxe.org/embed/1639D">Try Haxe!</a></iframe>
<p>The problem with this method is, as the <a href="https://haxe.org/manual/types-dynamic.html">manual says</a>, that we can pass anything to the function and the compiler won't care about it, leaving any error or exception to the target language. </p>
<h3>Getting rid of <code>Dynamic</code></h3>
<p>Isn't there a safer way of doing this so we can catch any error at compile time? We know that both types have a <code>length(default, null):Int</code> field and we are only interested on the <code>length</code> field. We can then use <a href="https://haxe.org/manual/type-system-type-parameter-constraints.html">type parameter constraints</a>.</p>
<pre><code class="prettyprint haxe">function length&lt;T:{var length(default, null):Int;}&gt;(o:T) {
  return o.length;
}</code></pre><iframe src="http://try.haxe.org/embed/840Cf" class="try-haxe"><a href="http://try.haxe.org/embed/840Cf">Try Haxe!</a></iframe>
<p>Or, if we are going to use the constraint in more functions, we can use a <a href="https://haxe.org/manual/type-system-typedef.html"><code>typedef</code></a></p>
<blockquote>
<p><em>Haxe Manual:</em> A typedef can give a name to any other type and/or describe a complex structure.</p></blockquote>
<pre><code class="prettyprint haxe">typedef Length = {
  var length(default, null):Int;
}

function length&lt;T:Length&gt;(o:T) {
  return o.length;
}

function length2&lt;T:Length&gt;(o:T) {
  return o.length * 2;
}</code></pre><iframe src="http://try.haxe.org/embed/530F7" class="try-haxe"><a href="http://try.haxe.org/embed/530F7">Try Haxe!</a></iframe>
<p>Of course, this will only work if we can constraint the types somehow. But what if we can't?</p>
<h3>Using different types</h3>
<p>Now, we need a function that takes an <code>Array&lt;Int&gt;</code> or an <code>Int</code> so we can return an <code>Array&lt;Int&gt;</code> after adding a few numbers. 
If we pass an <code>Array</code> it will return the same <code>Array</code> with the new numbers added. 
If we pass an <code>Int</code> it will create an <code>Array&lt;Int&gt;</code> from 0 to the value passed and add the new numbers to it. 
The problem here is we can't use the same method we used before because there isn't any constraint we can use for these types.</p>
<p>We can try to use <code>Dynamic</code> again, but as we saw before it isn't type safe and error-prone: All the errors or exceptions will be at runtime and the compiler won't warn us if we pass another invalid type.<br />
We will also lose the type of the <code>Array</code> (<code>Int</code>) because this information is only used at compile time and erased at runtime. This is why we can't use <code>Std.is(o, Array&lt;Int&gt;)</code>.</p>
<pre><code class="prettyprint haxe">function add(o:Dynamic):Array&lt;Int&gt; {
  var a:Array&lt;Int&gt;;
  if(Std.is(o, Array)) {
    a = cast o;
  } else if(Std.is(o, Int)) {
    a = [for(i in 0...Std.int(o)) i];
  } else {
    throw "The value isn't an Array or an Int";
  }

  a.push(100);
  a.push(300);

  return a;
}</code></pre><iframe src="http://try.haxe.org/embed/a2c00" class="try-haxe"><a href="http://try.haxe.org/embed/a2c00">Try Haxe!</a></iframe>
<h3>Making it more type safe with <code>Either</code></h3>
<p>There is a more type safer way that let the compiler catch possible errors at compile time. 
We can use <a href="http://api.haxe.org/haxe/ds/Either.html"><code>haxe.ds.Either</code></a>.
It has to be mentioned that <code>Either</code> gives some runtime performance overhead, but it brings type safety which we are looking for.</p>
<blockquote>
<p><em>Haxe Manual:</em> <code>Either</code> represents values which are either of type <code>L</code> (Left) or type <code>R</code> (Right).</p></blockquote>
<pre><code class="prettyprint haxe">function add(o:haxe.ds.Either&lt;Array&lt;Int&gt;, Int&gt;):Array&lt;Int&gt; {
  var a:Array&lt;Int&gt;;
  switch(o) {
    case Left(l): a = l;
    case Right(r): a = [for(i in 0...r) i];
  }

  a.push(100);
  a.push(300);

  return a;
}</code></pre>
<p>Now the <code>add</code> function can be used like demonstrated here:</p>
<pre><code class="prettyprint haxe">trace("Passing an Array&lt;Int&gt;: " + add(Left([10, 20, 30])));
trace("Passing an Int: " + add(Right(3)));</code></pre><iframe src="http://try.haxe.org/embed/6dA36" class="try-haxe"><a href="http://try.haxe.org/embed/6dA36">Try Haxe!</a></iframe>
<p>Great! The code is now type safe and the compiler will error if we give it the wrong types, but isn't it a bit cumbersome?
We need to remember that if we want to pass an <code>Array&lt;Int&gt;</code> we need to use <code>Left()</code> and if we want to pass an <code>Int</code> we need to use <code>Right()</code>.</p>
<p>Let's make it easier to work with!</p>
<h3>Taking it further with abstract types</h3>
<p>This method will solve the problems every other method had. It's based on the last method but, thanks to the powerful Haxe <a href="https://haxe.org/manual/types-abstract.html">abstract types</a>, we can let the compiler do the job for us.</p>
<blockquote>
<p><em>Haxe Manual:</em> An abstract type is a type which is actually a different type at run-time. It is a compile-time feature which defines types "over" concrete types in order to modify or augment their behavior.</p></blockquote>
<p>First of all we need to write the abstract. By defining the <code>@:to</code> and <code>@:from</code> functions we define the casts to/from one to another type. </p>
<pre><code class="prettyprint haxe">import haxe.ds.Either;

abstract OneOf&lt;A, B&gt;(Either&lt;A, B&gt;) from Either&lt;A, B&gt; to Either&lt;A, B&gt; {
  @:from inline static function fromA&lt;A, B&gt;(a:A):OneOf&lt;A, B&gt; {
    return Left(a);
  }
  @:from inline static function fromB&lt;A, B&gt;(b:B):OneOf&lt;A, B&gt; {
    return Right(b);  
  } 
    
  @:to inline function toA():Null&lt;A&gt; return switch(this) {
    case Left(a): a; 
    default: null;
  }
  @:to inline function toB():Null&lt;B&gt; return switch(this) {
    case Right(b): b;
    default: null;
  }
}</code></pre>
<p>We can now modify our <code>add()</code> function to:</p>
<pre><code class="prettyprint haxe">function add(o:OneOf&lt;Array&lt;Int&gt;, Int&gt;):Array&lt;Int&gt; {
  var a:Array&lt;Int&gt;;
  switch(o) {
    case Left(l): a = l;
    case Right(r): a = [for(i in 0...r) i];
  }

  a.push(100);
  a.push(300);

  return a;
}</code></pre><iframe src="http://try.haxe.org/embed/4f2Dd" class="try-haxe"><a href="http://try.haxe.org/embed/4f2Dd">Try Haxe!</a></iframe>
<p>Nice! We get type safety. 
We will get compile time errors if we by accident pass incorrect types to our method. 
The compiler does the dirty job for us. </p>
<hr />
<p>You may be wondering <em>"what if I want to use more types?"</em><br />
Well, <code>haxe.ds.Either</code> is just an <code>enum</code> (see its <a href="https://github.com/HaxeFoundation/haxe/blob/development/std/haxe/ds/Either.hx">source code</a>) so nothing stops you from writing an <code>enum</code> with more type parameters and modify <code>OneOf</code> to accept more <code>@:from</code> and <code>@:to</code>. </p>
<p>Of course, you can always use <a href="https://haxe.org/manual/macro.html">macros</a> to create it and the abstract but we will leave that for another day.</p>
<blockquote>
<p><strong>Learn more:</strong></p><ul><li><a href="https://haxe.org/manual/types-abstract.html">Haxe abstract types</a></li><li><a href="https://haxe.org/manual/type-system-type-parameter-constraints.html">Type parameter constraints</a></li></ul>
<p>Author:<span itemprop="author" itemscope="itemscope" itemtype="https://schema.org/Person"> <a href="https://github.com/mrcdk" itemprop="url" rel="external"><span itemprop="name">Justo Delgado Baudí</span></a></span></p></blockquote></div><time datetime="2016-10-14 00:00:00" itemprop="datePublished" class="semantic">2016-10-14 00:00:00</time><time datetime="2016-11-01 00:00:00" itemprop="dateModified" class="semantic">2016-11-01 00:00:00</time><hr/><div>Category:  &nbsp; <span itemprop="articleSection"><i class="fa fa-book"></i>&nbsp;<a href="category/other/">Other</a></span></div><div class="tags">Tags:  &nbsp; <span itemprop="keywords"><span class="tag"><i class="fa fa-tag"></i>&nbsp;<a href="tag/enum.html" rel="tag">enum</a><i class="semantic">,</i></span><span class="tag"><i class="fa fa-tag"></i>&nbsp;<a href="tag/abstract-type.html" rel="tag">abstract-type</a><i class="semantic">,</i></span><span class="tag"><i class="fa fa-tag"></i>&nbsp;<a href="tag/pattern-matching.html" rel="tag">pattern-matching</a><i class="semantic">,</i></span><span class="tag"><i class="fa fa-tag"></i>&nbsp;<a href="tag/type-parameter.html" rel="tag">type-parameter</a><i class="semantic">,</i></span><span class="tag"><i class="fa fa-tag"></i>&nbsp;<a href="tag/type-parameter-constraint.html" rel="tag">type-parameter-constraint</a></span></span></div><hr/><div class="contribution"><span><i class="fa fa-lightbulb-o"></i> <a href="https://github.com/HaxeFoundation/code-cookbook/edit/master/./assets/content/cookbook/Other/passing-different-types-to-a-function-parameter.md" rel="external">Suggest improvement</a></span> <span>| <i class="fa fa-exclamation-circle"></i> <a href="https://github.com/HaxeFoundation/code-cookbook/issues/new?title=[Passing different types to a function parameter]&body=%0A%0ASources:%0A*%20http://code.haxe.org/category/other/passing-different-types-to-a-function-parameter.html%0A*%20https://github.com/HaxeFoundation/code-cookbook/tree/master/./assets/content/cookbook/Other/passing-different-types-to-a-function-parameter.md" rel="external">Report issue</a></span> <span>| <i class="fa fa-plus-circle"></i> <a href="https://github.com/HaxeFoundation/code-cookbook/new/master/./assets/content/cookbook/Other/snippet-name.md/?filename=snippet-name.md" rel="external">Add new snippet</a></span> </div><hr/><div class="share-buttons">
<script src="https://apis.google.com/js/platform.js" async="async" defer="defer"></script><div class="g-plus" data-action="share" data-annotation="bubble" style="display:inline-block"></div>&nbsp; &nbsp;
<a href="https://twitter.com/share" class="twitter-share-button" style="display:inline-block" data-show-count="false">Tweet</a><script async="async" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>&nbsp; &nbsp;
<div id="fb-root" style="display:inline-block"></div><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js = d.createElement(s); js.id = id;js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));</script>
<div class="fb-like" data-href="http://code.haxe.org/category/other/passing-different-types-to-a-function-parameter.html" style="display:inline-block" data-layout="button_count" data-action="like" data-show-faces="true"></div></div></article></section></main></div><footer class="section dark site-footer"><div class="container"><div class="copyright"><p>&copy;2017&nbsp;<a class="hf-link" href="https://haxe.org/foundation/" rel="external" title="Haxe Foundation Website">Haxe Foundation</a> |&nbsp;<a href="https://github.com/HaxeFoundation/code-cookbook" title="Haxe Code Cookbook on Github" rel="external">Code Cookbook on Github</a> </p><p class="last-modified">Last modified: 05-01-2017</p></div></div></footer><link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css"/><script defer="defer" src="https://haxe.org/js/jquery.min.js"></script><script defer="defer" src="https://haxe.org/js/bootstrap.min.js"></script><link rel="stylesheet" type="text/css" href="css/highlighter.min.css"/><script defer="defer" src="js/highlighter.js"></script><script>  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-74262827-2', 'auto');  ga('send', 'pageview');</script></body></html>